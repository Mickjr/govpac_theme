<?php/*Template Name: jpdm*/?><?php get_header(); ?><link rel="stylesheet" href="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/styles/jqx.base.css" type="text/css" /><link rel="stylesheet" href="<?php bloginfo('template_url'); ?>/templates/style.css" />        <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxcore.js"></script>		<script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxdata.js"></script>        <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxbuttons.js"></script>        <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxscrollbar.js"></script>        <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxmenu.js"></script>	    <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxgrid.js"></script>	    <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxgrid.sort.js"></script>        <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxgrid.filter.js"></script>	    <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxgrid.selection.js"></script>	    <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxpanel.js"></script>        <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxcheckbox.js"></script>        <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxlistbox.js"></script>        <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxcalendar.js"></script>        <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxdatetimeinput.js"></script>        <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxdropdownlist.js"></script>        <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxgrid.pager.js"></script>        <script type="text/javascript" src="<?php bloginfo('template_url'); ?>/vendors/jqwidgets/jqxgrid.columnsresize.js"></script><?php get_sidebar(); ?><!-- Content Wrapper. Contains page content --><div class="content-wrapper">		<?php if(have_posts()): while(have_posts()): the_post();?>			<?php get_template_part('templates/pre-page'); ?>		<?php //get_template_part('templates/pre-page-stats'); ?>		<!-- Main content -->		<section class="content">						<?php /* **** **** */ ?>			<div id="gridContainer" class="row">				<div class="col-md-12">					<div id="masterGrid"></div>				</div>			</div>			<?php /* **** End of Row **** */ ?>		</section><!-- /.content -->	<?php endwhile; ?>     <?php else: ?>    	<?php wp_redirect(get_bloginfo('siteurl').'/404', 404); exit; ?>    <?php endif;?></div><!-- /.content-wrapper --><?php get_footer(); ?><script>	$(document).ready(function() {        url = "<?php bloginfo('template_url'); ?>/templates/inc/get_files.php";        var source =        {            datatype: "json",            datafields: [	            { name: 'id', type: 'integer' },                { name: 'title', type: 'string' },                { name: 'message_date', type: 'date', format: 'yyyy-MM-dd' },                { name: 'description', type: 'string' },                { name: 'filename', type: 'string' }            ],            id: 'id',            url: url,            pagenum: 0,            pagesize: 10,            sortcolumn: 'message_date',            sortcolumn: 'desc',            root: 'data'        };		var linkrenderer = function (row, column, value) {			if (value.indexOf('#') != -1) {				value = value.substring(0, value.indexOf('#'));			}			var html = $.jqx.dataFormat.formatlink(value, format);			return html;		}		var cellscenter = function (row, column, value) {			return '<div style="text-align: center; margin-top: 5px;">' + value + '</div>';		}		var columnscenter = function (value) {			return '<div style="text-align: center; margin-top: 5px;">' + value + '</div>';		}		var cellsleft = function (row, column, value) {			return '<div style="overflow: hidden; text-overflow: ellipsis; padding-bottom: 2px; text-align: left; margin-right: 2px; margin-left: 5px; margin-top: 21.5px;">' + value + '</div>';		}		var columnsleft = function (value) {			return '<div style="text-align: left; margin-top: 5px; margin-left: 5px;">' + value + '</div>';		}		var dataAdapter = new $.jqx.dataAdapter(source);		dataAdapter.dataBind();				$('#masterGrid').jqxGrid({			autoheight: true,			width: '100%',			source: dataAdapter,			autorowheight: true,			columnsheight: '30px',			columnsresize: true,			enablebrowserselection: true,            sortable: true,            pageable: true,            altrows: true,			columns: [				{ text: 'ID', dataField: 'id', width: 40, filterable: false, renderer: columnscenter, cellsalign: 'center' },				{ text: 'Title', dataField: 'title' },				{ text: 'Date', dataField: 'message_date', width: 100, filtertype: 'date', cellsformat: 'd', renderer: columnscenter, cellsalign: 'center'},				{ text: 'Description', dataField: 'description', filtertype: 'input' },				{ text: 'Get the file', dataField: 'filename', width: 150, filterable: false, renderer: columnscenter, cellsalign: 'center' }			]		});			});</script>